<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
   
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300&display=swap" rel="stylesheet">
  
  
  <link rel="stylesheet" th:href="@{/css/announceList.css}">
  <link rel="stylesheet" th:href="@{/css/layout-announceList-side.css}">
  <link rel="stylesheet" th:href="@{/css/page.css}">
<th:block th:replace="~{./include/layout :: setContent(~{:: .announceList})}">


  <div class="announceList"> <!-- 가장 큰 박스 -->
    
     <div class="announceList-wrap"> <!-- 다음으로 감싸는 박스-->

      <div> <!--sidebar-->
         <th:block th:replace="~{./include/layout-announceList-side}"></th:block>
      </div>
      
      <div class="announceInner"> <!-- 공고게시판 -->
         
          <div class="announceTitle"> <!-- 게시판 타이틀 -->
            <p>모집 공고</p>
          </div>
    
          <form action="/announce/announceList" name="searchForm" class="searchBox" method="get"> <!-- 검색창 action="searchForm"or announceList  class="searchBox" -->
        	 <input type="hidden" name="page" value="1">
			 <input type="hidden" name="amount" th:value="${pageVO.amount}"> 
                 
	          <div class="searchTxt" > <!-- th:value="${pageVO.cri.announce_title}"  name="announceSearch"-->
	             <input type="text" class="search" name="announce_title" placeholder="검색어 입력" th:value="${pageVO.cri.announce_title}"> <!-- keyword th:value="${pageVO.cri.announceContent}"-->
	             <!-- 검색 버튼 -->
	             <button type="submit" id="searchBtn" onclick="getSearch()"  class="searchBtn">검색</button>        
	          </div>      
      
	      
	          <!-- 게시판 -->
	          <div class="announceBoard">
	           
	            <table class="board"> <!-- 공고게시판 -->
	              <thead>
	      
	                <tr class="boardTitle" >  <!-- 게시판 상단부분 (분류) -->
	                
				     <!-- <th>  맨 앞쪽에 다 넣어야함  
					 	 <input type="checkbox" class="allCheck">
					  </th>-->
	                  <th>번호</th>
	                  <th>제목</th>
	                  <th>작성일</th>
	                  <th>조회</th>
	                </tr>
	      
	                <tbody>  <!-- 게시판 글 목록-->
	                  <tr th:each="vo : ${list}"> <!--boardContent-->
	                  <!--<td>  맨 앞쪽에 다 넣어야함  
						 <input type="checkbox" class="chk">
					  </td>-->
	                    <td class="contentNumber">
							<span th:text="${vo.announce_proper_num}"></span> <!--[[${vo.announce_proper_num}]]-->
						</td>
						
	                    <td class="contentTitle"> <!--[[${vo.announce_title}]]-->
	                      <a th:href="@{announceDetail(announce_proper_num=${vo.announce_proper_num})}"  th:text="${vo.announce_title}"></a>
	                    </td>
	                    
	                    <td class="contentDate">
							<span th:text="${vo.announce_first_date.substring(0,10)}"></span>
							<!--${#temporals.format(vo.announce_first_date, 'yyyy-MM-dd')}-->
						</td>
						
	                    <td class="contentViews"><span id="viewCount">0</span></td>
	                  </tr>
	               
	                </tbody>
	      
	              </thead>
	            </table>
	      
	          </div>
	        
	        
	     	<!-- <div>
				 <button type="button"  name="check" id="del"> 삭제 </button>
			 </div>-->
	     
	      
	       	<div class="registBox"> <!--float 쓰면 이동이 안 됨-->        
	          <button class="registBtn">
	            <a href="/announce/announceReg">글 작성</a>
	          </button>       
	        </div>
	        
	        <!--페이지네이션-->
	        <th:block th:replace="~{./include/announcePage :: pageNation(${pageVO})}"></th:block>

         </form>
         
       </div>
       
     </div>
     
  </div>

</th:block>

<script th:inline="javascript"> 

	//데이터 핸들링 - 공고 개수 처리
//	function handleChange() {	
//		document.searchForm.amount.value = event.target.value;
//		document.searchForm.submit();
//	}
    //검색
    var searchBtn = document.getElementById("searchBtn");
  	searchBtn.onclick = () => {
	    event.preventDefault();
	    document.searchForm.submit();
  	}


</script>


<script th:inline="javascript"> //화면에서 선택 삭제 DB에서도 삭제해야함
	
	//삭제 클릭시 정말 삭제하는지 물어보는 알림창 떠야함
	
	
	/*var chk = document.querySelectorAll('input[class="check"]');
	var del = document.getElementById("del");
	del.onclick = function() {
		for(var i = 0; i < chk.length; i++){
			if( chk[i].checked == true ){
				chk[i].parentElement.parentElement.remove();
			}
		}
	}
	var all = document.querySelector(".allCheck");
	all.onclick = function() {
		if( all.checked == true ) {
			for(var i = 0; all.length; i++) {				
				all[i].checked == true;
			}
		} else {
			all[i].checked == false;
		}	
		
	}*/
</script>
</html>